\section{g15purple.c File Reference}
\label{g15purple_8c}\index{g15purple.c@{g15purple.c}}
{\tt \#include $<$stdio.h$>$}\par
{\tt \#include $<$stdlib.h$>$}\par
{\tt \#include $<$math.h$>$}\par
{\tt \#include $<$time.h$>$}\par
{\tt \#include $<$string.h$>$}\par
{\tt \#include $<$libg15.h$>$}\par
{\tt \#include $<$libg15render.h$>$}\par
{\tt \#include $<$g15daemon\_\-client.h$>$}\par
{\tt \#include $<$pthread.h$>$}\par
{\tt \#include $<$plugin.h$>$}\par
{\tt \#include $<$version.h$>$}\par
{\tt \#include $<$debug.h$>$}\par
{\tt \#include $<$util.h$>$}\par
{\tt \#include $<$privacy.h$>$}\par
{\tt \#include $<$glib.h$>$}\par
{\tt \#include $<$account.h$>$}\par
{\tt \#include \char`\"{}images.h\char`\"{}}\par
\subsection*{Defines}
\begin{CompactItemize}
\item 
\#define {\bf PURPLE\_\-PLUGINS}
\item 
\#define {\bf PLUGIN\_\-ID}~\char`\"{}core-kabili207-g15purple\char`\"{}
\item 
\#define {\bf VERSION}~\char`\"{}0.6\char`\"{}
\item 
\#define {\bf MIN\_\-WINDOWS}~1
\item 
\#define {\bf MAX\_\-WINDOWS}~3
\end{CompactItemize}
\subsection*{Functions}
\begin{CompactItemize}
\item 
void {\bf get\_\-time} (char $\ast$$\ast$t)
\item 
void {\bf set\_\-protocol} (PurpleBuddy $\ast$buddy)
\item 
void {\bf draw\_\-messageWindow} (g15canvas $\ast${\bf canvas})
\item 
void {\bf draw\_\-welcomeScreen} (g15canvas $\ast${\bf canvas})
\item 
void {\bf draw\_\-goodbyeScreen} (g15canvas $\ast${\bf canvas})
\end{CompactItemize}
\subsection*{Variables}
\begin{CompactItemize}
\item 
g15canvas $\ast$ {\bf canvas}
\item 
int {\bf screen}
\item 
int {\bf textSize} = 1
\item 
char $\ast$ {\bf g15title} = \char`\"{}\char`\"{}
\item 
char $\ast$ {\bf g15message} = \char`\"{}\char`\"{}
\item 
char $\ast$ {\bf currTime} = \char`\"{}\char`\"{}
\item 
unsigned char $\ast$ {\bf proto\_\-icon}
\end{CompactItemize}


\subsection{Define Documentation}
\index{g15purple.c@{g15purple.c}!MAX\_\-WINDOWS@{MAX\_\-WINDOWS}}
\index{MAX\_\-WINDOWS@{MAX\_\-WINDOWS}!g15purple.c@{g15purple.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define MAX\_\-WINDOWS~3}\label{g15purple_8c_96f609b2a30e2dc3cc404945cdb2d55e}




Definition at line 69 of file g15purple.c.\index{g15purple.c@{g15purple.c}!MIN\_\-WINDOWS@{MIN\_\-WINDOWS}}
\index{MIN\_\-WINDOWS@{MIN\_\-WINDOWS}!g15purple.c@{g15purple.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define MIN\_\-WINDOWS~1}\label{g15purple_8c_1908236606322549825ed3994b7ea62d}




Definition at line 68 of file g15purple.c.\index{g15purple.c@{g15purple.c}!PLUGIN\_\-ID@{PLUGIN\_\-ID}}
\index{PLUGIN\_\-ID@{PLUGIN\_\-ID}!g15purple.c@{g15purple.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define PLUGIN\_\-ID~\char`\"{}core-kabili207-g15purple\char`\"{}}\label{g15purple_8c_59c02ee71cc1cc5155a9b77e312ff6cd}




Definition at line 65 of file g15purple.c.\index{g15purple.c@{g15purple.c}!PURPLE\_\-PLUGINS@{PURPLE\_\-PLUGINS}}
\index{PURPLE\_\-PLUGINS@{PURPLE\_\-PLUGINS}!g15purple.c@{g15purple.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define PURPLE\_\-PLUGINS}\label{g15purple_8c_0f40654b416236bb51e039f02aeababf}




Definition at line 29 of file g15purple.c.\index{g15purple.c@{g15purple.c}!VERSION@{VERSION}}
\index{VERSION@{VERSION}!g15purple.c@{g15purple.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define VERSION~\char`\"{}0.6\char`\"{}}\label{g15purple_8c_1c6d5de492ac61ad29aec7aa9a436bbf}




Definition at line 66 of file g15purple.c.

Referenced by draw\_\-welcomeScreen().

\subsection{Function Documentation}
\index{g15purple.c@{g15purple.c}!draw\_\-goodbyeScreen@{draw\_\-goodbyeScreen}}
\index{draw\_\-goodbyeScreen@{draw\_\-goodbyeScreen}!g15purple.c@{g15purple.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void draw\_\-goodbyeScreen (g15canvas $\ast$ {\em canvas})}\label{g15purple_8c_5f79f644faaedfa3ccae24f86cb38779}


Draws the closing screen.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em canvas}]The G15 canvas which the data will be rendered to.  \end{description}
\end{Desc}


Definition at line 309 of file g15purple.c.

References g15\_\-res\_\-height, g15\_\-res\_\-width, g15rx\_\-drawXBM(), and screen.\index{g15purple.c@{g15purple.c}!draw\_\-messageWindow@{draw\_\-messageWindow}}
\index{draw\_\-messageWindow@{draw\_\-messageWindow}!g15purple.c@{g15purple.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void draw\_\-messageWindow (g15canvas $\ast$ {\em canvas})}\label{g15purple_8c_a5eb4e1291b0ae7558e4130a1c4a96eb}


Draws the date stored in the global variables g15message and g15title. Originally, this was to be one of many screens, however that functionality could not be created due to a combination how purple plugins are created (it's not thread-safe) and my novice skills as a C programmer.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em canvas}]The G15 canvas which the data will be rendered to. \end{description}
\end{Desc}


Definition at line 189 of file g15purple.c.

References currTime, g15message, g15rx\_\-drawXBM(), g15title, proto\_\-height, proto\_\-icon, proto\_\-width, and textSize.\index{g15purple.c@{g15purple.c}!draw\_\-welcomeScreen@{draw\_\-welcomeScreen}}
\index{draw\_\-welcomeScreen@{draw\_\-welcomeScreen}!g15purple.c@{g15purple.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void draw\_\-welcomeScreen (g15canvas $\ast$ {\em canvas})}\label{g15purple_8c_522e66aaf6ebeb8a2f72a1d70d799f89}


Draws the welcome screen.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em canvas}]The G15 canvas which the data will be rendered to.  \end{description}
\end{Desc}


Definition at line 277 of file g15purple.c.

References g15\_\-res\_\-height, g15\_\-res\_\-width, g15rx\_\-drawXBM(), screen, and VERSION.\index{g15purple.c@{g15purple.c}!get\_\-time@{get\_\-time}}
\index{get\_\-time@{get\_\-time}!g15purple.c@{g15purple.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void get\_\-time (char $\ast$$\ast$ {\em t})}\label{g15purple_8c_04757d69ae4a9c45504161a4ad380ce7}


Sets the value of t to the current time. The format of the current time is determined by user's settings.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em t}]The variable which will be modified. \end{description}
\end{Desc}


Definition at line 126 of file g15purple.c.\index{g15purple.c@{g15purple.c}!set\_\-protocol@{set\_\-protocol}}
\index{set\_\-protocol@{set\_\-protocol}!g15purple.c@{g15purple.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void set\_\-protocol (PurpleBuddy $\ast$ {\em buddy})}\label{g15purple_8c_e8d346319f12f81572b5322dac14c652}


Sets the value of proto\_\-icon to reflect the protocol of the buddy.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em buddy}]Buddy who's protocol is to be determined \end{description}
\end{Desc}


Definition at line 157 of file g15purple.c.

References proto\_\-icon.

\subsection{Variable Documentation}
\index{g15purple.c@{g15purple.c}!canvas@{canvas}}
\index{canvas@{canvas}!g15purple.c@{g15purple.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}g15canvas$\ast$ {\bf canvas}}\label{g15purple_8c_546b3d456a434d548ddc6751d1de8c8f}




Definition at line 75 of file g15purple.c.\index{g15purple.c@{g15purple.c}!currTime@{currTime}}
\index{currTime@{currTime}!g15purple.c@{g15purple.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ {\bf currTime} = \char`\"{}\char`\"{}}\label{g15purple_8c_6896f1b7d5ef50ab2de6de030ba2447f}




Definition at line 80 of file g15purple.c.

Referenced by draw\_\-messageWindow().\index{g15purple.c@{g15purple.c}!g15message@{g15message}}
\index{g15message@{g15message}!g15purple.c@{g15purple.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ {\bf g15message} = \char`\"{}\char`\"{}}\label{g15purple_8c_66684ec000a779a7386570b5e748f313}




Definition at line 79 of file g15purple.c.

Referenced by draw\_\-messageWindow().\index{g15purple.c@{g15purple.c}!g15title@{g15title}}
\index{g15title@{g15title}!g15purple.c@{g15purple.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ {\bf g15title} = \char`\"{}\char`\"{}}\label{g15purple_8c_553670eae66d9943a756368a4233b107}




Definition at line 78 of file g15purple.c.

Referenced by draw\_\-messageWindow().\index{g15purple.c@{g15purple.c}!proto\_\-icon@{proto\_\-icon}}
\index{proto\_\-icon@{proto\_\-icon}!g15purple.c@{g15purple.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}unsigned char$\ast$ {\bf proto\_\-icon}}\label{g15purple_8c_3b617682a7431f2cf20e361b89ace171}




Definition at line 81 of file g15purple.c.

Referenced by draw\_\-messageWindow(), and set\_\-protocol().\index{g15purple.c@{g15purple.c}!screen@{screen}}
\index{screen@{screen}!g15purple.c@{g15purple.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int {\bf screen}}\label{g15purple_8c_3109b0889cec9f0de874a2bdc1f84372}




Definition at line 76 of file g15purple.c.

Referenced by draw\_\-goodbyeScreen(), and draw\_\-welcomeScreen().\index{g15purple.c@{g15purple.c}!textSize@{textSize}}
\index{textSize@{textSize}!g15purple.c@{g15purple.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int {\bf textSize} = 1}\label{g15purple_8c_45780b627cc68e644654ff164efb78d7}




Definition at line 77 of file g15purple.c.

Referenced by draw\_\-messageWindow().